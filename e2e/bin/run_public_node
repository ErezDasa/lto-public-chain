#!/usr/bin/env bash

set -Cue -o pipefail

PROJECT_DIR="$(cd "$(dirname "${0}")/../.." ; pwd)"  # Absolute path to project
PUBLIC_NODE_DIR="${PROJECT_DIR}/public_node"  # Absolute path to public node

(
  cd "$PUBLIC_NODE_DIR"

  export LTO_WALLET_SEED_BASE58=bEaMXTP5K1bm3uH8AKXJeBfHBP6TBP2dexxHzbEiqXHADmT3mrLaTUjGdK1XRXayMjdimB3kXPUd8pACPKuWAqt7iEohZyhHAuCnxBRqZbXw9VmdaRmvtoNu3SBRCswG4wC
  export LTO_WALLET_PASSWORD=e2etests
  export LTO_API_KEY=e2etestkey
  export LTO_NETWORK=TESTNET

  docker-compose pull
  docker-compose up -d "$@"
)
